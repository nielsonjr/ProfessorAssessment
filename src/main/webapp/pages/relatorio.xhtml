<ui:composition template="base.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

	<ui:define name="main-context">
		<b:jumbotron>
			<b:container>
				<h4>Relatório</h4>
				Relatório de Comparação entre Grupos
			</b:container>
		</b:jumbotron>
		<b:container>
			<b:well>
				<h:form >
					<p:panelGrid columns="2" layout="grid" styleClass="ui-noborder">
						<p:panelGrid columns="1" layout="grid" styleClass="ui-noborder">
							<p:row>
								<p:column>
									<p:selectBooleanCheckbox value="checkQualisDataConference"  />
									<h:outputText value="Selecionar Qualis de Conferência " />
									<p:selectOneMenu id="qualisConference" value="#{relatorioBean.selectedQualisDataConference}" style="width:125px" converter="qualisDataConverter">
										<f:selectItems value="#{relatorioBean.qualisDataConference}" var="qualisData"   
											itemValue="#{qualisData}"
				                 			itemLabel="#{qualisData.year}" 
				                 		/>
									</p:selectOneMenu>
								</p:column>
							</p:row>
	
							<p:row>
								<p:selectBooleanCheckbox value="checkQualisDataPeriodic"  />
								<h:outputText value="Selecionar Qualis para Periódicos " />
								<p:selectOneMenu id="qualisPeriodic" value="#{relatorioBean.selectedQualisDataPeriodic}" style="width:125px" converter="qualisDataConverter">
									<f:selectItems value="#{relatorioBean.qualisDataPeriodic}" 
										var="qualisData"   
										itemValue="#{qualisData}"
			                 			itemLabel="#{qualisData.year}" 
			                 		/>
								</p:selectOneMenu>
							</p:row>
							<p:row>
								<p:selectBooleanCheckbox id="orientations" value="checkOrientations"  />
								<p:outputLabel for="orientations" value="Orientações" />
							</p:row>
						</p:panelGrid>
						
						<p:row>
							<p:outputLabel for="pickList" value="Escolha os grupos para a avaliação" />
							<p:pickList id="pickList" value="#{relatorioBean.groups}" var="group" itemLabel="#{group.name}" itemValue="#{group}" converter="groupConverter"/>
						</p:row>
						<p:row colspan="2" style="float:right">					
							<p:commandButton value="Comparar" type="submit"  actionListener="#{relatorioBean.comparar}" update="form2" styleClass="ui-priority-primary" ajax="false"/>
						</p:row >	
					</p:panelGrid>
				</h:form>
				
				<h:form id="form2" rendered="#{relatorioBean.root != null}">
				    <p:treeTable value="#{relatorioBean.root}" var="value">
				        <f:facet name="header">
				            Relatório
				        </f:facet>
				        <p:column headerText="">
	            				<h:outputText value="#{value.name}" />
	        			</p:column>
	        			
	        			<p:column headerText="#{relatorioBean.groups.target[0].name}">
						    <ui:repeat value="#{relatorioBean.groups.target}" var="targetValue" varStatus="varStatus">
								<h:outputText value="#{value.value[varStatus.index]}" />
							</ui:repeat>
						</p:column>
						<p:column headerText="#{relatorioBean.groups.target[1].name}">
						    <ui:repeat value="#{relatorioBean.groups.target}" var="targetValue" varStatus="varStatus">
								<h:outputText value="#{value.value[varStatus.index]}" />
							</ui:repeat>
						</p:column>
				    </p:treeTable>			    
				</h:form>
			</b:well>
		</b:container>

	</ui:define>
</ui:composition>